---
description: Complete reference of all available MDX components for Wikipefia content — props, nesting rules, and usage examples.
globs: "**/*.mdx"
alwaysApply: false
---

# Wikipefia MDX Components Reference

All custom components are validated at build time. Unknown components or missing required props cause compilation errors.

## Callout

Highlighted box for tips, warnings, or errors.

- `type` (optional): `"info"` (default) | `"warning"` | `"error"`

```mdx
<Callout type="info">Tip or supplementary information.</Callout>

<Callout type="warning">Common mistake or gotcha.</Callout>

<Callout type="error">Critical error or danger notice.</Callout>
```

## Tabs / Tab

Tabbed content interface. `Tab` must be a direct child of `Tabs`.

- `Tabs`: no props, requires `Tab` children
- `Tab`: `label` (required, string)

```mdx
<Tabs>
  <Tab label="Python">Python example here.</Tab>
  <Tab label="JavaScript">JavaScript example here.</Tab>
</Tabs>
```

## Collapse

Expandable/collapsible section for progressive disclosure.

- `title` (required, string)

```mdx
<Collapse title="Show proof">Proof details hidden by default.</Collapse>
```

## Quiz / Question / Option

Interactive multiple-choice quiz. Nesting: `Question` inside `Quiz`, `Option` inside `Question`.

- `Quiz`: no props, requires `Question` children
- `Question`: `text` (required, string)
- `Option`: `value` (required, string), `correct` (optional, boolean)

```mdx
<Quiz>
  <Question text="What is 2 + 2?">
    <Option value="3">Three</Option>
    <Option value="4" correct>
      Four
    </Option>
    <Option value="5">Five</Option>
  </Question>
</Quiz>
```

## CodePlayground

Editable code block with copy/reset. Prefer the `code` prop over children to preserve formatting.

- `language` (optional, string, default: `"python"`)
- `code` (optional, string — preferred)
- `children` (optional — fallback, may lose whitespace)

```mdx
<CodePlayground language="python" code={`def greet(name):
    return f"Hello, {name}!"

print(greet("World"))`} />
```

## Figure

Image with optional caption.

- `src` (required, string)
- `alt` (required, string)
- `caption` (optional, string)
- `width` (optional, number, default: 800)
- `height` (optional, number, default: 450)

```mdx
<Figure
  src="/assets/diagram.png"
  alt="Flow diagram"
  caption="System architecture overview"
  width={600}
  height={400}
/>
```

## MathBlock

Display math wrapper. Prefer `$$...$$` syntax instead when possible.

- `children` (required)

```mdx
<MathBlock>E = mc^2</MathBlock>
```

Preferred alternative (identical output):

```mdx
$$
E = mc^2
$$
```

## Math (via remark-math + KaTeX)

Not a component — built-in syntax processed by plugins.

- Inline: `$E = mc^2$`
- Block: `$$\sum_{i=1}^{n} i = \frac{n(n+1)}{2}$$`

## Graph / Plot / Slider

Interactive function plotter (SVG). Pass math expression strings as `expr` props — evaluated by a safe parser. Variable `x` is the horizontal axis, slider variables available by name.

- `Graph`: `title`, `xLabel`, `yLabel`, `xDomain` `[min,max]`, `yDomain` `[min,max]`. Requires `Plot` children.
- `Plot`: `expr` (required, math expression string like "a - b * x"), `color`, `label`, `dashed`. Inside `Graph`.
- `Slider`: `name` (required), `min`, `max`, `default`, `step`, `label`. Inside `Graph` or `Interactive`.

Math expressions support: `+`, `-`, `*`, `/`, `^` (power), parentheses, common functions (`sin`, `cos`, `sqrt`, `abs`, `log`, `min`, `max`, `pow`, `exp`), and constants (`PI`, `E`).

```mdx
<Graph title="Supply and Demand" xLabel="Q" yLabel="P" xDomain={[0, 20]} yDomain={[0, 30]}>
  <Plot expr="a - b * x" color="#0066cc" label="Demand" />
  <Plot expr="c + d * x" color="#ff0000" label="Supply" />
  <Slider name="a" min={10} max={40} default={24} step={1} label="Demand intercept" />
  <Slider name="b" min={0.5} max={3} default={1} step={0.1} label="Demand slope" />
  <Slider name="c" min={-10} max={10} default={0} step={1} label="Supply intercept" />
  <Slider name="d" min={0.5} max={3} default={1.2} step={0.1} label="Supply slope" />
</Graph>
```

## Graph Annotations: Point / HLine / VLine / Area / Segment

Additional children inside `<Graph>` for marking intersections, reference lines, shaded regions, and line segments. All coordinate props are `expr` strings.

- `Point`: `x`, `y` (required, expr), `label`, `color`, `r`, `showXLine`, `showYLine`
- `HLine`: `y` (required, expr), `color`, `dashed`, `label`
- `VLine`: `x` (required, expr), `color`, `dashed`, `label`
- `Area`: `above` (required, expr), `below` (expr, default "0"), `from`, `to` (required, expr), `color`, `opacity`, `label`
- `Segment`: `x1`, `y1`, `x2`, `y2` (required, expr), `color`, `dashed`, `strokeWidth`

```mdx
<Graph title="Supply & Demand" xLabel="Q" yLabel="P" xDomain={[0, 20]} yDomain={[0, 30]}>
  <Plot expr="a - b * x" color="#0066cc" label="Demand" />
  <Plot expr="c + d * x" color="#ff0000" label="Supply" />
  <Area above="a - b * x" below="c + d * x" from="0" to="(a - c) / (b + d)" color="#0066cc" opacity={0.1} />
  <Point x="(a - c) / (b + d)" y="a - b * ((a - c) / (b + d))" label="E*" showXLine showYLine />
  <HLine y="a - b * ((a - c) / (b + d))" color="#999" dashed label="P*" />
  <VLine x="(a - c) / (b + d)" color="#999" dashed label="Q*" />
  <Slider name="a" min={10} max={40} default={24} step={1} label="Demand intercept" />
</Graph>
```

## Interactive / Value / Toggle

Reactive sandbox — sliders and toggles control computed values.

- `Interactive`: `title` (optional, string). Requires children.
- `Value`: `label` (required), `expr` (required, math expression string), `decimals` (optional, number, default 2), `prefix` (optional, string), `suffix` (optional, string). Inside `Interactive`.
- `Toggle`: `name` (required), `default` (optional, boolean), `label` (optional, string). Inside `Interactive`.

Math expressions support: `+`, `-`, `*`, `/`, `^` (power), parentheses, common functions (`sin`, `cos`, `sqrt`, `abs`, `log`, `min`, `max`, `pow`, `exp`), and constants (`PI`, `E`). Slider variables available by name.

```mdx
<Interactive title="GDP Deflator">
  <Slider name="nominal" min={100} max={10000} default={5500} step={100} label="Nominal GDP" />
  <Slider name="deflator" min={50} max={200} default={110} step={1} label="Deflator (base=100)" />
  <Value label="Real GDP" expr="nominal / deflator * 100" decimals={0} />
</Interactive>
```

## Timeline / TimelineEvent

Vertical chronological event display.

```mdx
<Timeline title="Key Events">
  <TimelineEvent date="2009" title="Financial Crisis">GDP contracts by 4.7%.</TimelineEvent>
  <TimelineEvent date="2020" title="COVID-19">Deficit reaches 367 billion CZK.</TimelineEvent>
</Timeline>
```

## DataTable

Sortable data table. `columns` (string[]), `rows` (string[][]), `caption`, `sortable`.

```mdx
<DataTable caption="GDP Growth" columns={["Year", "Growth", "Event"]}
  rows={[["2019", "+3.0%", "Pre-pandemic"], ["2020", "-5.5%", "COVID-19"]]} sortable />
```

## Comparison / ComparisonItem

Side-by-side comparison columns.

```mdx
<Comparison title="Market vs Planned">
  <ComparisonItem title="Market Economy">Decisions by individuals via price mechanism.</ComparisonItem>
  <ComparisonItem title="Planned Economy">Central authority makes all decisions.</ComparisonItem>
</Comparison>
```

## Definition

Highlights a key term with its explanation.

```mdx
<Definition term="GDP">Total market value of all final goods and services produced within a country's borders.</Definition>
```

## StepByStep / Step

Progressive reveal walkthrough. Do NOT indent `<Step>` tags. Avoid bullet lists inside Steps.

```mdx
<StepByStep title="Finding Equilibrium">
<Step title="Set QD = QS">

$$100 - 2P = -20 + 3P$$

</Step>
<Step title="Solve for P*">

$$120 = 5P \implies P^* = 24$$

</Step>
</StepByStep>
```

## FlowDiagram / FlowNode / FlowArrow

Auto-layout flow/process diagram with animated arrows.

- `FlowDiagram`: `title`, `direction` ("horizontal"|"vertical"), `animate`
- `FlowNode`: `id` (required), `label` (required), `icon`, `color`, `highlight`. Inside `FlowDiagram`.
- `FlowArrow`: `from`, `to` (required, node ids), `label`, `color`, `animated`. Inside `FlowDiagram`.

## CycleDiagram / CycleNode

Circular diagram with auto-positioned nodes and animated arrows. Hover reveals descriptions.

- `CycleDiagram`: `title`, `size`, `animate`, `clockwise`
- `CycleNode`: `label` (required), `color`, `description`. Inside `CycleDiagram`.

## BarChart / Bar

Animated bar chart. Supports static `value` or reactive `expr` (with `Slider`).

- `BarChart`: `title`, `orientation` ("horizontal"|"vertical"), `animate`, `showValues`
- `Bar`: `label` (required), `value` (number) OR `expr` (string), `color`. Inside `BarChart`.

## Diagram / DBox / DCircle / DArrow / DLabel

Low-level SVG canvas for fully custom diagrams.

- `Diagram`: `title`, `width`, `height`, `animate`
- `DBox`: `x`, `y`, `w`, `h`, `label`, `color`, `rounded`. Inside `Diagram`.
- `DCircle`: `x`, `y`, `r`, `label`, `color`, `pulse`. Inside `Diagram`.
- `DArrow`: `from {[x,y]}`, `to {[x,y]}`, `label`, `color`, `animated`, `curved`. Inside `Diagram`.
- `DLabel`: `x`, `y`, `text` (required), `fontSize`, `color`, `bold`. Inside `Diagram`.

## Custom Styling with Tailwind CSS

Use **Tailwind CSS utility classes** directly in MDX for custom layouts not covered by built-in components.

```mdx
<div className="grid grid-cols-2 gap-4 border-2 border-black p-4 my-6">
  <div className="bg-red-50 p-3 font-mono text-sm">Left column</div>
  <div className="bg-blue-50 p-3 font-mono text-sm">Right column</div>
</div>
```

## Nesting Rules

| Child            | Must be inside  |
| ---------------- | --------------- |
| `Tab`            | `Tabs`          |
| `Question`       | `Quiz`          |
| `Option`         | `Question`      |
| `Plot`           | `Graph`         |
| `Point`          | `Graph`         |
| `HLine`          | `Graph`         |
| `VLine`          | `Graph`         |
| `Area`           | `Graph`         |
| `Segment`        | `Graph`         |
| `TimelineEvent`  | `Timeline`      |
| `ComparisonItem` | `Comparison`    |
| `Step`           | `StepByStep`    |
| `Value`          | `Interactive`   |
| `Toggle`         | `Interactive`   |
| `FlowNode`       | `FlowDiagram`   |
| `FlowArrow`      | `FlowDiagram`   |
| `CycleNode`      | `CycleDiagram`  |
| `Bar`            | `BarChart`      |
| `DBox`           | `Diagram`       |
| `DCircle`        | `Diagram`       |
| `DArrow`         | `Diagram`       |
| `DLabel`         | `Diagram`       |

Violating nesting rules causes a build error.

## Quick Reference

| Component                        | Required Props            | Optional Props                     |
| -------------------------------- | ------------------------- | ---------------------------------- |
| `Callout`                        | children                  | `type`                             |
| `Tabs` / `Tab`                   | `label`, children         | —                                  |
| `Collapse`                       | `title`, children         | —                                  |
| `Quiz` / `Question` / `Option`   | `text`, `value`           | `correct`                          |
| `CodePlayground`                 | —                         | `language`, `code`, children       |
| `Figure`                         | `src`, `alt`              | `caption`, `width`, `height`       |
| `MathBlock`                      | children                  | —                                  |
| `Graph`                          | `Plot` children           | `title`, `xLabel`, `yLabel`, `xDomain`, `yDomain` |
| `Plot`                           | `expr`                    | `color`, `label`, `dashed`         |
| `Slider`                         | `name`                    | `min`, `max`, `default`, `step`, `label` |
| `Point`                          | `x`, `y`                  | `label`, `color`, `r`, `showXLine`, `showYLine` |
| `HLine`                          | `y`                       | `color`, `dashed`, `label`         |
| `VLine`                          | `x`                       | `color`, `dashed`, `label`         |
| `Area`                           | `above`, `from`, `to`     | `below`, `color`, `opacity`, `label` |
| `Segment`                        | `x1`, `y1`, `x2`, `y2`   | `color`, `dashed`, `strokeWidth`   |
| `Interactive`                    | children                  | `title`                            |
| `Value`                          | `label`, `expr`           | `decimals`, `prefix`, `suffix`     |
| `Toggle`                         | `name`                    | `default`, `label`                 |
| `Timeline` / `TimelineEvent`     | `date`, `title`           | `color`                            |
| `DataTable`                      | `columns`, `rows`         | `caption`, `sortable`              |
| `Comparison` / `ComparisonItem`  | `title`, children         | `color`                            |
| `Definition`                     | `term`, children          | —                                  |
| `StepByStep` / `Step`            | `title`, children         | —                                  |
| `FlowDiagram`                    | `FlowNode` children       | `title`, `direction`, `animate`    |
| `FlowNode`                       | `id`, `label`             | `icon`, `color`, `highlight`       |
| `FlowArrow`                      | `from`, `to`              | `label`, `color`, `animated`       |
| `CycleDiagram`                   | `CycleNode` children      | `title`, `size`, `animate`, `clockwise` |
| `CycleNode`                      | `label`                   | `color`, `description`             |
| `BarChart`                       | `Bar` children            | `title`, `orientation`, `animate`, `showValues` |
| `Bar`                            | `label`                   | `value` or `expr`, `color`         |
| `Diagram`                        | children                  | `title`, `width`, `height`, `animate` |
| `DBox`                           | `x`, `y`, `w`, `h`       | `label`, `color`, `rounded`        |
| `DCircle`                        | `x`, `y`, `r`            | `label`, `color`, `pulse`          |
| `DArrow`                         | `from`, `to`              | `label`, `color`, `animated`, `curved` |
| `DLabel`                         | `x`, `y`, `text`          | `fontSize`, `color`, `bold`        |
